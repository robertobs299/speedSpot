MDBoxLayout:
    orientation: 'vertical'

    MDBoxLayout:
        size_hint_y: None
        height: dp(56)
        md_bg_color: app.theme_cls.bg_dark if app.theme_cls.theme_style == "Dark" else app.theme_cls.bg_light
        padding: dp(10)
        spacing: dp(10)

        MDLabel:
            text: "SpeedSpot"
            font_style: "H6"
            size_hint_x: None
            width: dp(200)
            color: "#FFBF00"  # Mantener en ámbar
            theme_text_color: "Custom"
            text_color: "#FFBF00"  # Color ámbar constante

        Widget:  # Para empujar el contenido a la izquierda
            size_hint_x: None
            width: dp(20)

        MDSwitch:
            id: theme_switch
            size_hint: None, None
            size: dp(48), dp(48)
            pos_hint: {'center_y': 0.4, 'center_x': 0.15}  # Ajuste de posición
            on_active: app.toggle_theme()


    MDBottomNavigation:
        MDBottomNavigationItem:
            name: 'screen 1'
            text: "Inicio"
            icon: 'home'

            ScrollView:
                BoxLayout:
                    id: card_list
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    padding: dp(10)
                    spacing: dp(15)
                    pos_hint: {"center_x": 0.5}

        MDBottomNavigationItem:
            name: 'screen 2'
            text: "Añadir quedada"
            icon: 'plus-circle'

            ScrollView:
                id: add_meetup_scrollview
                size_hint_y: None
                height: self.parent.height - dp(56)  # Ajuste de la altura del ScrollView
                do_scroll_y: True
                BoxLayout:
                    orientation: "vertical"
                    padding: "10dp"
                    spacing: "10dp"
                    size_hint_y: None
                    height: self.minimum_height

                    MDTextField:
                        id: nombre
                        hint_text: "Nombre de la quedada"
                        mode: "rectangle"
                        size_hint_y: None
                        height: "48dp"

                    MDTextField:
                        id: descripcion
                        hint_text: "Descripción"
                        mode: "rectangle"
                        multiline: True
                        size_hint_y: None
                        height: "96dp"

                    MDBoxLayout:
                        orientation: "horizontal"
                        spacing: "10dp"

                        MDRaisedButton:
                            id: fecha
                            text: "Fecha"
                            on_release: app.show_date_picker()

                        MDRaisedButton:
                            id: hora
                            text: "Hora"
                            on_release: app.show_time_picker()

                    MDTextField:
                        id: max_personas
                        hint_text: "Cantidad de personas"
                        mode: "rectangle"
                        input_type: "number"
                        size_hint_y: None
                        height: "48dp"

                    MDTextField:
                        id: direccion
                        hint_text: "Dirección"
                        mode: "rectangle"
                        multiline: True
                        size_hint_y: None
                        height: "96dp"

                    MDRelativeLayout:
                        size_hint_y: None
                        height: "300dp"
                        ClickableMapView:
                            id: map_view
                            lat:50.6
                            lon:3.05
                            zoom:13

                    MDRaisedButton:
                        text: "Crear Quedada"
                        pos_hint: {"center_x": 0.5}
                        size_hint_y: None
                        height: "48dp"
                        on_release: app.create_meetup()

        MDBottomNavigationItem:
            name: 'screen 3'
            text: "Historial"
            icon: 'calendar'

            ScrollView:
                BoxLayout:
                    id: historial_list
                    orientation: 'vertical'
                    size_hint_y: None
                    height: self.minimum_height
                    padding: dp(10)
                    spacing: dp(15)
                    pos_hint: {"center_x": 0.5}

        MDBottomNavigationItem:
            name: 'screen 4'
            text: "Perfil"
            icon: 'account'

            MDLabel:
                text: "Achoooo"
                halign: 'center'
